clean:
	rm -rf 01-exit-code 02-pure-asm 03-asm-cpp-func

01-exit-code: 01-exit-code.S
	gcc -z noexecstack -g 01-exit-code.S -o 01-exit-code


# -nostartfiles: don't use initialization code generated by gcc
02-pure-asm: 02-pure-asm.S
	gcc -z noexecstack -g 02-pure-asm.S -nostartfiles -o 02-pure-asm
	objdump -fd 02-pure-asm > 02-pure-asm.dump

03-asm-cpp-func: 03-asm_cpp_func.S 03-sum.cpp
	gcc -z noexecstack -g 03-asm_cpp_func.S 03-sum.cpp simpleio_x86_64.S -o 03-asm-cpp-func

03-dump:
	gcc -c 03-sum.cpp -o 03-sum.o
	objdump -fd 03-sum.o > 03-sum.dump
